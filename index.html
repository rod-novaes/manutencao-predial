<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestor de Manutenção Predial</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app-wrapper">
        <nav id="main-menu">
            <div class="menu-header">
                <h2>Gestor de Manutenção Predial</h2>
                <span class="version-info">Versão beta 15</span>
            </div>
            <ul>
                <li><a href="#" class="nav-link active" data-target="screen-painel"><i class="fas fa-tachometer-alt"></i> Painel</a></li>
                <li class="dropdown">
                    <a href="#" class="nav-link"><i class="fas fa-archive"></i> Cadastros</a>
                    <ul class="dropdown-content">
                        <li><a href="#" class="nav-link" data-target="screen-lista-grandes-areas"><i class="fas fa-tags"></i> Grandes Áreas</a></li>
                        <li><a href="#" class="nav-link" data-target="screen-lista-sistemas"><i class="fas fa-tag"></i> Sistemas</a></li>
                        <li><a href="#" class="nav-link" data-target="screen-lista-componentes"><i class="fas fa-cogs"></i> Componentes</a></li>
                    </ul>
                </li>
                <li><a href="#" class="nav-link" data-target="screen-manutencoes"><i class="fas fa-calendar-check"></i> Manutenções</a></li>
                <li><a href="#" class="nav-link" data-target="screen-configuracoes"><i class="fas fa-cog"></i> Configurações</a></li>
            </ul>
        </nav>

        <main id="app-container">
            <!-- TELA 1: Painel de Serviços (Inicial) -->
            <div id="screen-painel" class="screen active">
                <div class="screen-header" id="painel-header">
                    <h1 class="screen-title" id="painel-main-title">Painel de Serviços</h1>
                    <div>
                        <button class="btn btn-primary" data-action="gerar-relatorio"><i class="fas fa-print"></i> Gerar Relatório</button>
                        <button class="btn btn-secondary" id="clear-filter-btn" data-action="clear-filter" style="display: none; margin-left: 10px;"><i class="fas fa-times"></i> Limpar Filtro</button>
                    </div>
                </div>
                <div class="painel-layout">
                    <div id="painel-alertas">
                        <div class="card alerta-box" id="alertas-criticas">
                            <h3 data-action="toggle-alert-box">
                                <span><i class="fas fa-exclamation-triangle"></i> VENCIDOS</span>
                                <i class="fas fa-chevron-down expand-icon"></i>
                            </h3>
                            <ul class="lista-os"></ul>
                        </div>
                        <div class="card alerta-box" id="alertas-mes">
                             <h3 data-action="toggle-alert-box">
                                <span><i class="fas fa-calendar-day"></i> VENCENDO ESTE MÊS</span>
                                <i class="fas fa-chevron-down expand-icon"></i>
                            </h3>
                            <ul class="lista-os"></ul>
                        </div>
                        <div class="card alerta-box" id="alertas-proximo-mes">
                            <h3 data-action="toggle-alert-box">
                                <span><i class="fas fa-calendar-alt"></i> PRÓXIMO MÊS</span>
                                <i class="fas fa-chevron-down expand-icon"></i>
                            </h3>
                            <ul class="lista-os"></ul>
                        </div>
                    </div>
                    <div id="painel-calendario" class="card">
                        <!-- O calendário será inserido aqui pelo JS -->
                    </div>
                </div>
            </div>

            <!-- TELA 2: Lista de Componentes -->
            <div id="screen-lista-componentes" class="screen">
                <div class="screen-header">
                    <h1 class="screen-title">Componentes</h1>
                    <button class="btn btn-primary" data-action="novo-componente"><i class="fas fa-plus"></i> Novo Componente</button>
                </div>
                <div class="info-note">
                    <i class="fas fa-info-circle"></i>
                    <p>Aqui você pode cadastrar os <strong>Componentes, Ativos, Máquinas ou Equipamentos</strong> que receberão a manutenção.</p>
                </div>
                <div class="card">
                    <table>
                        <thead><tr><th>Nome</th><th>Grande Área</th><th>Sistema</th><th>Criticidade</th><th>Ações</th></tr></thead>
                        <tbody><!-- Conteúdo gerado pelo JS --></tbody>
                    </table>
                </div>
            </div>
            
            <!-- TELA 3: Lista de Grandes Áreas -->
            <div id="screen-lista-grandes-areas" class="screen">
                <div class="screen-header">
                    <h1 class="screen-title">Grandes Áreas</h1>
                    <button class="btn btn-primary" data-action="nova-grande-area"><i class="fas fa-plus"></i> Nova Grande Área</button>
                </div>
                <div class="info-note">
                    <i class="fas fa-info-circle"></i>
                    <p>As <strong>Grandes Áreas</strong> representam o nível mais alto de organização, equivalentes a uma <strong>Disciplina ou Especialidade</strong> (ex: Elétrica, Hidráulica, Climatização).</p>
                </div>
                <div class="card">
                    <table>
                        <thead><tr><th>Nome da Grande Área</th><th>Ações</th></tr></thead>
                        <tbody><!-- Conteúdo gerado pelo JS --></tbody>
                    </table>
                </div>
            </div>

            <!-- TELA 4: Lista de Sistemas -->
            <div id="screen-lista-sistemas" class="screen">
                <div class="screen-header">
                    <h1 class="screen-title">Sistemas (Planos de Manutenção)</h1>
                    <button class="btn btn-primary" data-action="novo-sistema"><i class="fas fa-plus"></i> Novo Sistema</button>
                </div>
                <div class="info-note">
                    <i class="fas fa-info-circle"></i>
                    <p>Em <strong>Sistemas</strong>, você cadastra <strong>planos de manutenção padrão</strong> para cada sistema de componentes (ex: Grupo Gerador, Quadro de Distribuição), definindo os serviços e suas periodicidades.</p>
                </div>
                <div class="card">
                    <table>
                        <thead><tr><th>Nome do Sistema</th><th>Grande Área</th><th>Área Responsável</th><th>Ações</th></tr></thead>
                        <tbody><!-- Conteúdo gerado pelo JS --></tbody>
                    </table>
                </div>
            </div>
            
            <!-- TELA 5: Manutenções Preventivas -->
             <div id="screen-manutencoes" class="screen">
                <div class="screen-header">
                    <h1 class="screen-title">Manutenções Preventivas</h1>
                </div>
                <div class="card">
                    <div class="filter-bar" id="maintenance-filters">
                        <div class="filter-row">
                            <div class="filter-group">
                                <label for="filter-grande-area">Grande Área</label>
                                <select id="filter-grande-area"><option value="">Todas</option></select>
                            </div>
                            <div class="filter-group">
                                <label for="filter-sistema">Sistema</label>
                                <select id="filter-sistema" disabled><option value="">Todos</option></select>
                            </div>
                            <div class="filter-group">
                                <label for="filter-componente">Componente</label>
                                <select id="filter-componente" disabled><option value="">Todos</option></select>
                            </div>
                        </div>
                        <div class="filter-row">
                            <div class="filter-group">
                                <label for="filter-status">Status</label>
                                <select id="filter-status">
                                    <option value="">Todos</option>
                                    <option value="A vencer">A vencer</option>
                                    <option value="Atrasada">Atrasada</option>
                                    <option value="Concluída">Concluída</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label for="filter-data-inicio">De</label>
                                <input type="date" id="filter-data-inicio">
                            </div>
                            <div class="filter-group">
                                <label for="filter-data-fim">Até</label>
                                <input type="date" id="filter-data-fim">
                            </div>
                        </div>
                        <div class="filter-row quick-filters">
                            <button class="btn btn-secondary" data-action="filter-week">Esta Semana</button>
                            <button class="btn btn-secondary" data-action="filter-month">Este Mês</button>
                            <button class="btn btn-secondary" data-action="filter-next-month">Próximo Mês</button>
                            <button class="btn btn-secondary" data-action="clear-all-filters">Limpar Filtros</button>
                        </div>
                    </div>
                </div>
                 <div class="card">
                    <table id="maintenance-table">
                        <thead>
                            <tr>
                                <th class="sortable" data-sort-key="componenteName">Componente <span class="sort-icon"></span></th>
                                <th class="sortable" data-sort-key="tarefaDescricao">Serviço <span class="sort-icon"></span></th>
                                <th class="sortable" data-sort-key="criticidade">Criticidade <span class="sort-icon"></span></th>
                                <th class="sortable" data-sort-key="date">Data Prevista <span class="sort-icon"></span></th>
                                <th class="sortable" data-sort-key="status">Status <span class="sort-icon"></span></th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="maintenance-table-body"><!-- Conteúdo gerado pelo JS --></tbody>
                    </table>
                </div>
             </div>

            <!-- TELA 6: Formulário de Ordem de Serviço (Legado/Oculto) -->
            <div id="screen-form-os" class="screen">
                <!-- Esta tela não é mais usada ativamente no fluxo principal -->
            </div>

            <!-- TELA 7: Configurações -->
            <div id="screen-configuracoes" class="screen">
                <h1 class="screen-title">Configurações</h1>
                <div class="card">
                    <h3>Backup e Restauração</h3>
                    <p>Mantenha seus dados seguros. Crie backups regularmente.</p>
                    <div class="form-actions">
                         <button class="btn btn-primary" data-action="criar-backup"><i class="fas fa-download"></i> Criar Backup</button>
                         <button class="btn btn-secondary" data-action="restaurar-backup"><i class="fas fa-upload"></i> Restaurar Backup</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- ===== ESTRUTURA DO MODAL GENÉRICO ===== -->
    <div id="modal-container" class="hidden">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title">Título do Modal</h2>
                <button id="modal-close-btn" class="modal-close-btn">&times;</button>
            </div>
            <div id="modal-body">
                <!-- Conteúdo dinâmico (formulários, mensagens) será inserido aqui -->
            </div>
            <div id="modal-footer">
                <!-- Botões de ação (Salvar, Cancelar, Excluir) serão inseridos aqui -->
            </div>
        </div>
    </div>

    <script src="mock-data.js"></script>
    <script src="script.js"></script>
</body>
</html>